<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>{{title}}</title>
        <link rel="icon" type="image/png" href="static/images/favicon.png">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="System information of Raspberry Pi">
        <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">        
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
        <script src="{{ url_for('static', filename='js/sort.js') }}"></script>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <a href="{{index_url}}">
                    <div class="one column">
                        <img class="logo" src="static/images/rpi_logo_128.png">
                    </div>
                    <div class="eight columns tac">
                        <h3 class="title">{{title}}</h3>
                    </div>
                </a>
                <div class="half column">
                    <div>
                        <a href="reboot" onclick="return confirm('Do you wish to re-start your system ?')">
                            <img src="static/images/reboot.png" style="width:24px; margin-top:5px" alt="Restart">
                        </a>
                    </div>
                    <div>
                        <a href="shutdown" onclick="return confirm('Do you wish to shutdown your system ?')">
                            <img src="static/images/shutdown.png" style="width:24px; margin-top:5px" alt="Shutdown">
                        </a>
                    </div>
                </div>
            </div>

            <div class="tabs">
                <div class="tab-button active" data-tab="tab1">Generic</div>
                <div class="tab-button" data-tab="tab2">Networks</div>
                <div class="tab-button" data-tab="tab3">Storage</div>
                <div class="tab-button" data-tab="tab4">Processes</div>
            </div>

            <div id="tab1" class="tab-content active">
                <div class="row t-header toggle-header">
                    <div class="t-header-img">
                        <img src="static/images/rpi_logo_32.png">
                    </div>
                    <div>
                        <h5>Board Info</h5>
                    </div>
                </div>
                <div class="toggle-content">
                    <div class="row t-row">
                        <div class="four columns">
                            Model
                        </div>
                        <div class="six columns">
                            {{generic_board_info.model_name}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Revision
                        </div>
                        <div class="six columns">
                            {{generic_board_info.revision}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Serial Number
                        </div>
                        <div class="six columns">
                            {{generic_board_info.serial_number}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Manufacturer
                        </div>
                        <div class="six columns">
                            {{generic_board_info.manufacturer}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Operating System
                        </div>
                        <div class="six columns">
                            {{generic_board_info.os}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Host Name
                        </div>
                        <div class="six columns">
                            {{generic_board_info.hostname}}
                        </div>
                     </div>
                     <div class="row t-row">
                        <div class="four columns">
                            System Time
                        </div>
                        <div class="six columns">
                            {{generic_board_info.system_time}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Started on
                        </div>
                        <div class="six columns">
                            {{generic_board_info.boot_time}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Uptime
                        </div>
                        <div class="six columns">
                            {{generic_board_info.uptime_pretty}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Internet Connection
                        </div>
                        <div class="six columns">
                        {% if generic_board_info.internet_connection_status %}
                            Active
                        {% else %}
                            Not active
                        {% endif %}
                        </div>
                    </div>
                    {% if generic_board_info.internet_connection_status %}
                    <div class="row t-row">
                        <div class="four columns">
                            Public IP Address
                        </div>
                        <div class="six columns">
                            {{ generic_board_info.public_ip}}
                        </div>
                    </div>
                    {% endif %}
                </div>
                <div class="row t-header toggle-header collapsed">
                    <div class="t-header-img">
                        <img src="static/images/cpu.png">
                    </div>
                    <div>
                        <h5>CPU Details</h5>
                    </div>
                </div>
                <div class="toggle-content collapsed">
                    <div class="row t-row">
                        <div class="four columns">
                            Model
                        </div>
                        <div class="six columns">
                            {{cpu_details.model}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Architecture
                        </div>
                        <div class="six columns">
                            {{cpu_details.architecture}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Cores Count
                        </div>
                        <div class="six columns">
                            {{cpu_details.cores_count}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Core Frequency
                        </div>
                        <div class="six columns">
                            {{cpu_details.cur_core_frequency}} MHz
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Core Min Frequency
                        </div>
                        <div class="six columns">
                            {{cpu_details.min_core_frequency}} MHz
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Core Max Frequency
                        </div>
                        <div class="six columns">
                            {{cpu_details.max_core_frequency}} MHz
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Core Voltage
                        </div>
                        <div class="six columns">
                            {{cpu_details.core_voltage}} V
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Temperature
                        </div>
                        <div class="six columns" style="color:{{cpu_details.temperature_color}}">
                            {{cpu_details.temperature_value}} &#176;C
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Usage
                        </div>
                        <div class="six columns">
                            {{cpu_details.usage}} %
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            L1 Data Cache Size
                        </div>
                        <div class="six columns">
                            {{cpu_details.cache_sizes.L1d}} KiB
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            L1 Instructions Cache Size
                        </div>
                        <div class="six columns">
                            {{cpu_details.cache_sizes.L1i}} KiB
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            L2 Cache Size
                        </div>
                        <div class="six columns">
                            {{cpu_details.cache_sizes.L2}} KiB
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Overvoltage allowed
                        </div>
                        <div class="six columns">
                            {{cpu_details.overvoltage_allowed}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            OTP programming allowed
                        </div>
                        <div class="six columns">
                            {{cpu_details.otp_programming_allowed}}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            OTP reading allowed
                        </div>
                        <div class="six columns">
                            {{cpu_details.otp_reading_allowed}}
                        </div>
                    </div>
                </div>
                <div class="row t-header toggle-header collapsed">
                    <div class="t-header-img">
                        <img src="static/images/ram.png">
                   </div>
                   <div>
                        <h5>RAM Details</h5>
                   </div>
                </div>
                <div class="toggle-content collapsed">
                    <div class="row t-row">
                        <div class="four columns">
                            Memory Size
                        </div>
                        <div class="six columns t-row">
                            {{ram_details.size}} MB
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Total Memory
                        </div>
                        <div class="six columns t-row">
                            {{ram_details.total}} MB
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Used Memory
                        </div>
                        <div class="six columns">
                            {{ram_details.used}} MB
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Free Memory
                        </div>
                        <div class="six columns">
                            {{ram_details.free}} MB
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Cache Memory
                        </div>
                        <div class="six columns">
                            {{ram_details.cache}} MB
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Available Memory
                        </div>
                        <div class="six columns">
                            {{ram_details.available}} MB
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab2" class="tab-content">
                <div class="row t-header toggle-header">
                    <div class="t-header-img">
                        <img src="static/images/ethernet_adapter.png">
                    </div>
                    <div>
                        <h5>Ethernet Adapter Details</h5>
                    </div>
                </div>
                <div class="toggle-content">
                    <div class="row t-row">
                        <div class="four columns">
                            MAC address
                        </div>
                        <div class="six columns">
                        {% if eth_info.mac %}
                            {{eth_info.mac}}
                        {% else %}
                            Unknown
                        {% endif %}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            IP address
                        </div>
                        <div class="six columns t-row">
                        {% if eth_info.state == 'UP' %}
                            {{eth_info.ip}}
                        {% else %}
                            Not connected
                        {% endif %}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Default gateway
                        </div>
                        <div class="six columns t-row">
                        {% if eth_info.state == 'UP' %}
                            {{eth_info.gateway}}
                        {% else %}
                            Not connected
                        {% endif %}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Network mask
                        </div>
                        <div class="six columns t-row">
                        {% if eth_info.state == 'UP' %}
                            {{eth_info.mask}}
                        {% else %}
                            Not connected
                        {% endif %}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Broadcast IP address
                        </div>
                        <div class="six columns t-row">
                        {% if eth_info.state == 'UP' %}
                            {{eth_info.broadcast}}
                        {% else %}
                            Not connected
                        {% endif %}
                        </div>
                    </div>
                </div>
                <div class="row t-header toggle-header">
                    <div class="t-header-img">
                        <img src="static/images/wifi_adapter.png">
                    </div>
                    <div>
                        <h5>Wi-Fi Adapter Details</h5>
                    </div>
                </div>
                <div class="toggle-content">
                    <div class="row t-row">
                        <div class="four columns">
                            MAC address
                        </div>
                        <div class="six columns">
                        {% if wlan_info.mac %}
                            {{wlan_info.mac}}
                        {% else %}
                            Unknown
                        {% endif %}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Wi-Fi network
                        </div>
                        <div class="six columns t-row">
                        {% if wifi_network_name %}
                            {{wifi_network_name}}
                        {% else %}
                            Not connected
                        {% endif %}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            IP address
                        </div>
                        <div class="six columns t-row">
                        {% if wlan_info.state == 'UP' %}
                            {{wlan_info.ip}}
                        {% else %}
                            Not connected
                        {% endif %}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Default gateway
                        </div>
                        <div class="six columns t-row">
                        {% if wlan_info.state == 'UP' %}
                            {{wlan_info.gateway}}
                        {% else %}
                            Not connected
                        {% endif %}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Network mask
                        </div>
                        <div class="six columns t-row">
                        {% if wlan_info.state == 'UP' %}
                            {{wlan_info.mask}}
                        {% else %}
                            Not connected
                        {% endif %}
                        </div>
                    </div>
                    <div class="row t-row">
                        <div class="four columns">
                            Broadcast IP address
                        </div>
                        <div class="six columns t-row">
                        {% if wlan_info.state == 'UP' %}
                            {{wlan_info.broadcast}}
                        {% else %}
                            Not connected
                        {% endif %}
                        </div>
                    </div>
                </div>
                {% if wlan_info.state == 'UP' %}
                <div class="row t-header toggle-header collapsed">
                    <div class="t-header-img">
                        <img src="static/images/wifi.png">
                    </div>
                    <div>
                        <h5>Available WiFi Networks <span class="item-count"> ( total {{ available_wifi_networks | length}} ) </span></h5>
                    </div>
                </div>
                <div class="toggle-content collapsed">
                    <div>
                        <table class="u-full-width sortable">
                            <thead>
                                <tr>
                                    <th class="tal">SSID</th>
                                    <th class="tac">Channel</th>
                                    <th class="tac">Rate</th>
                                    <th class="tac">Signal%</th>
                                    <th class="tac">Bars</th>
                                    <th class="tac">Security</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for wifi_network in available_wifi_networks %}
                                <tr>
                                    <td class="tal">{{wifi_network.ssid}}</td>
                                    <td class="tac">{{wifi_network.channel}}</td>
                                    <td class="tac">{{wifi_network.rate}}</td>
                                    <td class="tac">{{wifi_network.signal}}</td>
                                    <td class="tac">{{wifi_network.bars}}</td>
                                    <td class="tac">{{wifi_network.security}}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                {% endif %}
                <div class="row t-header toggle-header collapsed">
                    <div class="t-header-img">
                        <img src="static/images/bluetooth.png">
                    </div>
                    <div>
                        <h5>Bluetooth Details</h5>
                    </div>
                </div>
                <div class="toggle-content collapsed">
                    <div class="row t-row">
                        <div class="four columns t-caption">
                            MAC address
                        </div>
                        <div class="six columns">
                        {% if bluetooth_mac_address %}
                            {{bluetooth_mac_address}}
                        {% else %}
                            Unknown
                        {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab3" class="tab-content">
                <div class="row t-header toggle-header">
                    <div class="t-header-img">
                        <img src="static/images/storage.png" style="width:32px">
                    </div>
                    <div>
                        <h5>Disks Usage Details<span class="item-count"> ( total {{ disks_details | length }} ) </span></h5>
                    </div>
                </div>
                <div class="toggle-content">
                    <table class="u-full-width sortable">
                        <thead>
                            <tr>
                                <th class="tal">File System</th>
                                <th class="tac">Size</th>
                                <th class="tac">Used</th>
                                <th class="tac">Available</th>
                                <th class="tac">Used%</th>
                                <th class="tal">Mounted On</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for disk in disks_details %}
                            <tr>
                                <td class="tal">{{disk.filesystem}}</td>
                                <td class="tac">{{disk.size}}</td>
                                <td class="tac">{{disk.used}}</td>
                                <td class="tac">{{disk.available}}</td>
                                <td class="tac">{{disk.use_percent}}</td>
                                <td class="tal">{{disk.mounted_on}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <div class="row t-header toggle-header">
                    <div class="t-header-img">
                        <img src="static/images/inodes.png" style="width:32px">
                    </div>
                    <div>
                        <h5>Disks Inodes Details<span class="item-count"> ( total {{ disks_inodes_details | length }} ) </span></h5>
                    </div>
                </div>
                <div class="toggle-content">
                    <table class="u-full-width sortable">
                        <thead>
                            <tr>
                                <th class="tal">File System</th>
                                <th class="tac">Inodes</th>
                                <th class="tac">Used</th>
                                <th class="tac">Free</th>
                                <th class="tac">Used%</th>
                                <th class="tal">Mounted On</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for disk in disks_inodes_details %}
                            <tr>
                                <td class="tal">{{disk.filesystem}}</td>
                                <td class="tac">{{disk.inodes}}</td>
                                <td class="tac">{{disk.used}}</td>
                                <td class="tac">{{disk.free}}</td>
                                <td class="tac">{{disk.use_percent}}</td>
                                <td class="tal">{{disk.mounted_on}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="tab4" class="tab-content">
                <div class="row t-header">
                    <div class="t-header-img">
                        <img src="static/images/processes.png" style="width:32px">
                    </div>
                    <div>
                        <h5>Running Processes<span class="item-count"> ( total {{ processes_details | length }} ) </span></h5>
                    </div>
                </div>
                <table class="u-full-width sortable">
                    <thead>
                        <tr>
                            <th class="tal">User</th>
                            <th class="tac">PID</th>
                            <th class="tac">CPU%</th>
                            <th class="tac">MEM%</th>
                            <th class="tal">Command</th>
                            <th class="tac">Started On</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for process in processes_details %}
                        <tr>
                            <td class="tal">{{process.user}}</td>
                            <td class="tac">{{process.pid}}</td>
                            <td class="tac">{{process.cpu_percent}}</td>
                            <td class="tac">{{process.mem_percent}}</td>
                            <td class="tal">{{process.command}}</td>
                            <td class="tac">{{process.started_on}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </body>

    <script>
        // code for tabs switching
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                button.classList.add('active');
                const tabId = button.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // code for collapse rows
        document.addEventListener('DOMContentLoaded', function() {
            const toggleHeaders = document.querySelectorAll('.toggle-header');
            toggleHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    this.classList.toggle('collapsed');
                    const content = this.nextElementSibling;
                    if (content && content.classList.contains('toggle-content')) {
                        content.classList.toggle('collapsed');
                    }
                });
            });
        });
    </script>
</html>
